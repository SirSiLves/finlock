<h1>Kontakt</h1>

<p-card>
  <ng-container *ngIf="!confirm; else showConfirm">
    <h2>Kontaktformular</h2>

    <div class="formgrid grid mt-5 p-fluid">
      <div class="field col-6 xl:col-4">
        <label>Vorname</label>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
          <input type="text" [formControl]="vorname" pInputText placeholder="Max">
        </div>

        <app-input-error-message *ngIf="vorname.touched && vorname.invalid">
          Ungültiger Inhalt
        </app-input-error-message>
      </div>

      <div class="field col-6 xl:col-4">
        <label>Nachname</label>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
          <input type="text" [formControl]="nachname" pInputText placeholder="Muster">
        </div>

        <app-input-error-message *ngIf="nachname.touched && nachname.invalid">
          Ungültiger Inhalt
        </app-input-error-message>
      </div>

      <div class="field col-6 xl:col-4">
        <label>E-Mail</label>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
          <input type="text" [formControl]="mail" pInputText placeholder="max@muster.com">
        </div>

        <app-input-error-message *ngIf="mail.touched && mail.invalid">
          Ungültiger Inhalt
        </app-input-error-message>
      </div>

      <div class="field col-12 xl:col-12 mt-3">
        <label>Anliegen</label>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"><i class="pi pi-info"></i></span>
          <textarea [rows]="5" [formControl]="text" pInputTextarea placeholder="Beschreiben Sie ihr Anliegen"
                    [autoResize]="true"></textarea>
        </div>

        <app-input-error-message *ngIf="text.touched && text.invalid">
          Bitte Anliegen beschreiben
        </app-input-error-message>
      </div>

      <div class="field col-12 mt-3">
        <label>Upload</label>
        <p-fileUpload mode="advanced"
                      [multiple]="true"
                      [fileLimit]="3"
                      [accept]="fileTypes"
                      [maxFileSize]="10000000"
                      [chooseLabel]="'Wähle Dateien'"
                      [auto]="true"></p-fileUpload>
      </div>

    </div>


    <div class="action mt-5">
      <button pButton
              pRipple
              type="button"
              label="Abschicken"
              [disabled]="formGroup.invalid"
              (click)="send()"
              icon="pi pi-send" iconPos="left"></button>
    </div>
  </ng-container>

  <ng-template #showConfirm>
    <h2>Vielen Dank!</h2>
    <h4>Ihre Kontaktaufnahme ist bei uns eingegangen. Wir werden uns so schnell wie möglich bei ihnen melden.</h4>

    <button pButton
            pRipple
            type="button"
            label="Weiteres Anliegen erfassen"
            class="mt-3"
            [style]="'height:3rem'"
            (click)="confirm = false"
            icon="pi pi-pencil" iconPos="left"></button>
  </ng-template>

</p-card>
